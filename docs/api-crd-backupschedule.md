# BackupSchedule CRD API Documentation

**Group:** `cluster.open-cluster-management.io`  
**Kind:** `BackupSchedule`  
**Version:** `v1beta1`  
**Scope:** Namespaced  
**Short Name:** `bsch`

The `BackupSchedule` resource allows you to schedule cluster backups at specified intervals. It manages Velero schedules to periodically back up resources on your ACM hub cluster.

---

## Example

```yaml
apiVersion: cluster.open-cluster-management.io/v1beta1
kind: BackupSchedule
metadata:
  name: example-backupschedule
spec:
  veleroSchedule: "0 2 * * *"
  veleroTtl: "168h"
  paused: false
  noBackupOnStart: false
  useManagedServiceAccount: false
  volumeSnapshotLocations:
    - aws-east
```

---

## Spec Fields

| Field                        | Type      | Description |
|------------------------------|-----------|-------------|
| `veleroSchedule`             | string    | **Required.** Cron expression for when to run the Velero backup. |
| `veleroTtl`                  | string    | TTL for how long the Velero backup should be retained (e.g., `720h`). |
| `paused`                     | boolean   | If true, all Velero schedules generated by this BackupSchedule will be removed. Default: false. |
| `noBackupOnStart`            | boolean   | If true, skips immediate backup after schedule creation. Default: false. |
| `skipImmediately`            | boolean   | If true, skips backup if schedule is due immediately after unpausing or creation. Default: false. |
| `useManagedServiceAccount`   | boolean   | If true, uses ManagedServiceAccount tokens for imported clusters. Default: false. |
| `managedServiceAccountTTL`   | string    | TTL for ManagedServiceAccount tokens. Defaults to `veleroTtl` if not set. |
| `useOwnerReferencesInBackup` | boolean   | If true, uses OwnerReferences on backups created by this schedule. |
| `volumeSnapshotLocations`    | string[]  | List of VolumeSnapshotLocation names associated with this backup. |

---

## Status Fields

| Field                          | Type   | Description |
|--------------------------------|--------|-------------|
| `phase`                        | string | Current phase of the schedule. |
| `lastMessage`                  | string | Message on the last operation. |
| `veleroScheduleCredentials`    | object | Velero schedule for backing up credentials. |
| `veleroScheduleManagedClusters`| object | Velero schedule for backing up remote clusters. |
| `veleroScheduleResources`      | object | Velero schedule for backing up other resources. |

Each Velero schedule object includes:
- `spec`: Schedule specification (cron, template, etc.)
- `status`: Last backup time, phase, validation errors, etc.

---

## Additional Printer Columns

- **Phase:** `.status.phase`
- **Message:** `.status.lastMessage`

---

## Description

BackupSchedule is an ACM resource that you can use to schedule cluster backups at specified intervals.  
The BackupSchedule resource creates a set of schedule.velero.io resources to periodically generate backups for resources on your ACM hub cluster.

---

## References

- [Velero Documentation](https://velero.io/docs/)
- [ACM Managed Service Account](https://github.com/stolostron/managed-serviceaccount#what-is-managed-service-account)

---

**This documentation is generated from the CRD definition in `config/crd/bases/cluster.open-cluster-management.io_backupschedules.yaml`.**